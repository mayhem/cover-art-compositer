<html>
  <head>
   <title>Off ListenBrainz Nifty Features</title>
   <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.css">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.4.1/milligram.css">
  </head>
  <body style="margin: 2em">
 
      <h2>Visualise Similar Users to user {{ user_name }}</h2>
      
      <p><a href="/">back to index page</a></p>

      <p>Selected time range: {{ time_range }}.</p>

    {% if error %}
       <p>Error: {{ error }}</p>
    {% else %}
       <p style="font-size: 18pt">
       <b><a href="https://listenbrainz.org/user/{{ user_name }}">{{ user_name }}</a></b>:
       </p>
       <object data="https://art.listenbrainz.org/coverart/grid-stats/{{user_name}}/{{time_range}}/4/2/{{ image_size }}"
               width="{{ image_size }}"
               height="{{ image_size }}">
           [ if no image appears here, this user has not been listening to music in the selected time range {{ time_range }}.
       </object>
       <br/>
       <br/>
       <br/>

       {% for similar_user in similar_users %}

       <p style="font-size: 18pt">
       User <b><a href="https://listenbrainz.org/user/{{ similar_user.user_name }}">{{ similar_user.user_name }}</a></b> is {{ similar_user.similarity }}% similar to {{ user_name }}.
       </p>
       <object data="https://art.listenbrainz.org/coverart/grid-stats/{{similar_user.user_name}}/{{time_range}}/4/2/{{ image_size }}"
               width="{{ image_size }}"
               height="{{ image_size }}">
           [ if no image appears here, this user has not been listening to music in the selected time range {{ time_range }}.
       </object>

       <br/>
       <br/>
       <br/>

       {% endfor %}
       <p><a href="/">back to index page</a></p>
    {% endif %}

  </body>
</html>
